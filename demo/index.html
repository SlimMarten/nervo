<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<title>Motion</title>
		<script type="text/javascript" src="../build/motion.js"></script>
		<link rel="stylesheet" type="text/css" href="css/styles.css">
		<style>
			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}
		</style>
	</head>
	<body>
		<div class="mesh-container">
			<div class="mesh-void">
				<div class="mesh-column-9 mesh-column-sm-9 mesh-column-md-9 mesh-column-lg-9 mesh-column-xl-9">
					<p>
						<code>
							<pre class="tween1"></pre>
							<pre class="tween2"></pre>
							<pre class="tween3"></pre>
							<pre class="tween4"></pre>
						</code>
					</p>
				</div>
				<div class="mesh-column-3 mesh-column-sm-3 mesh-column-md-3 mesh-column-lg-3 mesh-column-xl-3">
				</div>
			</div>
		</div>
		<script type="text/javascript">

		const tween1Container = document.querySelector('.tween1');
		const tween2Container = document.querySelector('.tween2');
		const tween3Container = document.querySelector('.tween3');
		const tween4Container = document.querySelector('.tween4');
		const timelineContainer = document.querySelector('.timeline');


		const tween1 = new Motion.Tween({x:0,y:0,z:0},{x:10,y:100,z:1000},{
			autoStart: false,
			duration: 5,
			// timeScale: 2,
			// easing: "expoOut",
			onProgress: e => {
				// console.log(e.type + ": " + `${e.id + 1}`, e.current);
				tween1Container.innerHTML = JSON.stringify(e.current);
			},
			onComplete: e => {
				console.log("Tween 1 finished", e);
			}
		});

		const tween2 = new Motion.Tween({tween2:0},{tween2:10},{
			autoStart: false,
			duration: 5,
			// timeScale: 10,
			onProgress: e => {
				// console.log(e.type + ": " + `${e.id + 1}`, e.current);
				tween2Container.innerHTML = JSON.stringify(e.current);
			},
			onComplete: e => {
				console.log("Tween 2 finished", e);
			}
		});

		const tween3 = new Motion.Tween({tween3:0},{tween3:1000},{
			autoStart: false,
			duration: 5,
			onProgress: e => {
				// console.log(e.type + ": " + `${e.id + 1}`, e.current);
				tween3Container.innerHTML = JSON.stringify(e.current);
			},
			onComplete: e => {
				console.log("Tween 3 finished", e);
			}
		});

		const tween4 = new Motion.Tween({tween4:0},{tween4:1000},{
			autoStart: false,
			duration: 5,
			onProgress: e => {
				// console.log(e.type + ": " + `${e.id + 1}`, e.current);
				tween4Container.innerHTML = JSON.stringify(e.current);
			},
			onComplete: e => {
				console.log("Tween 4 finished", e);
			}
		});

		const track = new Motion.Track([tween3,tween4],{start: 20});


		const timeline = new Motion.Timeline([tween1,tween2], {
			autoStart: false,
			loop: true,
			// timeScale: 2,
			// easing: "expoIn",
			onProgress: e => {
				// console.log(e);
				// timelineContainer.innerHTML = JSON.stringify(e);
			},
			onComplete: e => {
				console.log('Timeline Finish');
			}
		});

		timeline.add(track);

		console.log(timeline);

		document.addEventListener("keydown", function (e){
			switch(e.keyCode){
				case 80:
					if(timeline.isActive){
						timeline.pause();
					}else{
						timeline.play();
					}
					break;
				case 83:
					timeline.start();
					break;
				case 67:
					timeline.stop();
					break;
				case 76:
						timeline.loop = !timeline.loop;
						console.log(timeline.loop);
					break;
			}
		});

		</script>
	</body>
</html>

<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<title>Anim</title>
		<script type="text/javascript" src="../build/anim.js"></script>
		<link rel="stylesheet" type="text/css" href="css/styles.css">
		<style>
			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}
		</style>
	</head>
	<body>
		<div class="mesh-container">
			<div class="mesh-void">
				<div class="mesh-column-6 mesh-column-sm-6 mesh-column-md-6 mesh-column-lg-6 mesh-column-xl-6">
					<p>
						tween output
						<code>
							<pre class="tween1"></pre>
							<pre class="tween2"></pre>
							<pre class="tween3"></pre>
						</code>
					</p>
				</div>
				<div class="mesh-column-6 mesh-column-sm-6 mesh-column-md-6 mesh-column-lg-6 mesh-column-xl-6">
					<p>
						timeline output
						<code>
							<pre class="timeline"></pre>
						</code>
					</p>
				</div>
			</div>
		</div>
		<script type="text/javascript">

		const tween1Container = document.querySelector('.tween1');
		const tween2Container = document.querySelector('.tween2');
		const tween3Container = document.querySelector('.tween3');
		const timelineContainer = document.querySelector('.timeline');


		const tween1 = new Anim.Tween({x:0,y:0,z:0},{x:10,y:100,z:1000},{
			autoStart: false,
			duration: 5,
			onUpdate: e => {
				tween1Container.innerHTML = JSON.stringify(e.current);
			},
			onComplete: e => {
				console.log("Tween 1 finished", e);
			}
		});

		const tween2 = new Anim.Tween({tween2:0},{tween2:10},{
			autoStart: false,
			duration: 5,
			onUpdate: e => {
				tween2Container.innerHTML = JSON.stringify(e.current);
			},
			onComplete: e => {
				console.log("Tween 2 finished", e);
			}
		});

		const tween3 = new Anim.Tween({tween3:0},{tween3:1000},{
			autoStart: false,
			duration: 5,
			onUpdate: e => {
				tween3Container.innerHTML = JSON.stringify(e.current);
			},
			onComplete: e => {
				console.log("Tween 3 finished", e);
			}
		});


		const timeline = new Anim.Timeline([tween1, tween2, tween3], {
			// autoStart: true,
			loop: true,
			onUpdate: e => {
				// timelineContainer.innerHTML = JSON.stringify(e);
			},
			onComplete: e => {
				console.log('Timeline Finish');
			}
		});

		document.addEventListener("keydown", function (e){
			switch(e.keyCode){
				case 80:
					if(timeline.isTweening){
						timeline.pause();
					}else{
						timeline.play();
					}
					break;
				case 83:
					timeline.start();
					break;
				case 67:
					timeline.stop();
					break;
			}
		});

		</script>
	</body>
</html>

!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Layla=e():t.Layla=e()}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e){t.exports=function(t){var e=t*t;return t<4/11?7.5625*e:t<8/11?9.075*e-9.9*t+3.4:t<.9?4356/361*e-35442/1805*t+16061/1805:10.8*t*t-20.52*t+10.72}},function(t,e,n){t.exports={backInOut:n(3),backIn:n(4),backOut:n(5),bounceInOut:n(6),bounceIn:n(7),bounceOut:n(0),circInOut:n(8),circIn:n(9),circOut:n(10),cubicInOut:n(11),cubicIn:n(12),cubicOut:n(13),elasticInOut:n(14),elasticIn:n(15),elasticOut:n(16),expoInOut:n(17),expoIn:n(18),expoOut:n(19),linear:n(20),quadInOut:n(21),quadIn:n(22),quadOut:n(23),quartInOut:n(24),quartIn:n(25),quartOut:n(26),quintInOut:n(27),quintIn:n(28),quintOut:n(29),sineInOut:n(30),sineIn:n(31),sineOut:n(32)}},function(t,e,n){t.exports=n(33)},function(t,e){t.exports=function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},function(t,e){t.exports=function(t){var e=1.70158;return t*t*((e+1)*t-e)}},function(t,e){t.exports=function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1}},function(t,e,n){var r=n(0);t.exports=function(t){return t<.5?.5*(1-r(1-2*t)):.5*r(2*t-1)+.5}},function(t,e,n){var r=n(0);t.exports=function(t){return 1-r(1-t)}},function(t,e){t.exports=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},function(t,e){t.exports=function(t){return 1-Math.sqrt(1-t*t)}},function(t,e){t.exports=function(t){return Math.sqrt(1- --t*t)}},function(t,e){t.exports=function(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}},function(t,e){t.exports=function(t){return t*t*t}},function(t,e){t.exports=function(t){var e=t-1;return e*e*e+1}},function(t,e){t.exports=function(t){return t<.5?.5*Math.sin(13*Math.PI/2*2*t)*Math.pow(2,10*(2*t-1)):.5*Math.sin(-13*Math.PI/2*(2*t-1+1))*Math.pow(2,-10*(2*t-1))+1}},function(t,e){t.exports=function(t){return Math.sin(13*t*Math.PI/2)*Math.pow(2,10*(t-1))}},function(t,e){t.exports=function(t){return Math.sin(-13*(t+1)*Math.PI/2)*Math.pow(2,-10*t)+1}},function(t,e){t.exports=function(t){return 0===t||1===t?t:t<.5?.5*Math.pow(2,20*t-10):-.5*Math.pow(2,10-20*t)+1}},function(t,e){t.exports=function(t){return 0===t?t:Math.pow(2,10*(t-1))}},function(t,e){t.exports=function(t){return 1===t?t:1-Math.pow(2,-10*t)}},function(t,e){t.exports=function(t){return t}},function(t,e){t.exports=function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)}},function(t,e){t.exports=function(t){return t*t}},function(t,e){t.exports=function(t){return-t*(t-2)}},function(t,e){t.exports=function(t){return t<.5?8*Math.pow(t,4):-8*Math.pow(t-1,4)+1}},function(t,e){t.exports=function(t){return Math.pow(t,4)}},function(t,e){t.exports=function(t){return Math.pow(t-1,3)*(1-t)+1}},function(t,e){t.exports=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},function(t,e){t.exports=function(t){return t*t*t*t*t}},function(t,e){t.exports=function(t){return--t*t*t*t*t+1}},function(t,e){t.exports=function(t){return-.5*(Math.cos(Math.PI*t)-1)}},function(t,e){t.exports=function(t){var e=Math.cos(t*Math.PI*.5);return Math.abs(e)<1e-14?1:1-e}},function(t,e){t.exports=function(t){return Math.sin(t*Math.PI/2)}},function(t,e,n){"use strict";n.r(e);var r={};function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.r(r),n.d(r,"test",function(){return h}),n.d(r,"getInstanceById",function(){return p});var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"addEventListener",value:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)}},{key:"hasEventListener",value:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)}},{key:"removeEventListener",value:function(t,e){if(void 0!==this._listeners){var n=this._listeners[t];if(void 0!==n){var r=n.indexOf(e);-1!==r&&n.splice(r,1)}}}},{key:"dispatchEvent",value:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var n=e.slice(0),r=0,o=n.length;r<o;r++)n[r].call(this,t)}}}}])&&o(e.prototype,n),r&&o(e,r),t}();function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var l=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=s(e).call(this))||"object"!==u(o)&&"function"!=typeof o?f(r):o).children=[],n.isLayla=!0,n.options=t,n.parent=null,n.setId(f(f(n))),n.onAfterAdd=n.onAfterAdd.bind(f(f(n))),n.onProgress=n.onProgress.bind(f(f(n))),n.onComplete=n.onComplete.bind(f(f(n))),"onComplete"in n.options&&n.addEventListener("onComplete",n.options.onComplete),"onProgress"in n.options&&n.addEventListener("onProgress",n.options.onProgress),n.addEventListener("onAfterAdd",n.onAfterAdd),n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,i),n=e,(r=[{key:"onComplete",value:function(){this.dispatchEvent({type:"onComplete"})}},{key:"onProgress",value:function(){this.dispatchEvent({type:"onProgress"})}},{key:"onAfterAdd",value:function(t){}},{key:"clone",value:function(){var t=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return this.setId(t),t}},{key:"add",value:function(t,e){if(t.length>=1){if(this.isTimeline){for(var n=[],r=0;r<t.length;r++)t[r].isTween&&n.push(t[r]),t[r].isTrack&&this.add(t[r],{});var o=this.getTrackFromTweens(n,e);return this.add(o,{}),this}for(var i=0;i<t.length;i++)this.add(t[i]);return this}if(t===this)return console.error("Layla.Base.add: Object can't be a child of itself.",t),this;if(t&&t.isLayla){if(null!==t.parent&&t.parent.remove(t),this.isTimeline&&!t.isTween&&!t.isTrack)return console.error("Layla.Base.add: Object is not an instance of Layla.Tween or Layla.Track.",t),this;if(this.isTrack&&!t.isTween)return console.error("Layla.Base.add: Object is not an instance of Layla.Tween.",t),this;t.parent=this,this.children.push(t),t.dispatchEvent({type:"added"}),this.onChildChange()}else console.error("Layla.Base.add: Object is not an instance of Layla.Base.",t);return this}},{key:"remove",value:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}var n=this.children.indexOf(t);return-1!==n&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(n,1),this.onChildChange()),this}},{key:"onChildChange",value:function(){this.isTimeline&&this.updateDuration(),this.isTrack&&this.updateTimeRange()}},{key:"updateChildren",value:function(t){this.children.forEach(function(e){e.update(t)})}},{key:"setId",value:function(t){t.id=e.ID,e.ID++,e.Instances.push(t)}}])&&a(n.prototype,r),o&&a(n,o),e}();l.Instances=[],l.ID=0;var p=function(t){var e;return l.Instances.forEach(function(n){n.id===t&&(e=n)}),e},h=3;function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e){return!e||"object"!==y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var g=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=b(this,v(e).call(this,r))).isTrack=!0,t.type="Track",t.start=0,t.add(n,r),t}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(e,l),n=e,(r=[{key:"updateTimeRange",value:function(t){var e=this;return this.start=void 0!==t?t:this.start,this.end=0,this.children.length<=0?(console.warn("Layla.Track.updateTimeRange: No instances of Layla.Tween in this Track."),this):(this.children.forEach(function(t){t.duration*t.timeScale+e.start>e.end&&(e.end=t.duration*t.timeScale+e.start)}),this)}},{key:"reset",value:function(){this.finished=!1,this.initialized=!1,this.children.forEach(function(t){t.reset()})}},{key:"update",value:function(t){if((t/=this.parent.timeScale)>=this.end){if(this.finished)return;this.updateChildren(this.end-this.start),this.onComplete(),this.finished=!0}else t>=this.start&&(this.initialized?(this.updateChildren(t-this.start),this.onProgress()):(this.updateChildren(0),this.initialized=!0))}}])&&d(n.prototype,r),o&&d(n,o),e}();function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var w=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}var e,n,r;return e=t,(n=[{key:"start",value:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=("undefined"==typeof performance?Date:performance).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}])&&O(e.prototype,n),r&&O(e,r),t}(),T=n(1);function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function S(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var _=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=x(e).call(this,t))||"object"!==k(o)&&"function"!=typeof o?S(r):o).autoStart=void 0!==t.autoStart?t.autoStart:U,n.clock=new w,n.currentTime=0,n.duration=void 0!==t.duration?t.duration:G,n.easing=void 0!==t.easing?T[t.easing]:T[H],n.isActive=!1,n.loop=void 0!==t.loop?t.loop:J,n.timeScale=void 0!==t.timeScale?t.timeScale:K,n.tick=n.tick.bind(S(S(n))),n.autoStart&&n.start(),n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(e,l),n=e,(r=[{key:"reset",value:function(){this.currentTime=0,this.children.forEach(function(t){t.reset()}),this.update(this.currentTime)}},{key:"start",value:function(){this.reset(),this.play()}},{key:"stop",value:function(){this.reset(),this.pause()}},{key:"pause",value:function(){this.isActive=!1,this.clock.stop()}},{key:"play",value:function(){this.isActive=!0,this.clock.start(),this.tick()}},{key:"execute",value:function(){}},{key:"update",value:function(t){var e=0;this.progress=t/(this.duration*this.timeScale),this.easedProgress=this.easing(this.progress),this.progress>=1?(this.progress=1,this.easedProgress=1,e=this.duration*this.timeScale):e=this.duration*this.timeScale*this.easedProgress,this.execute(e),this.onProgress(),this.progress>=1&&(this.loop?this.start():(this.onComplete(),this.pause()))}},{key:"tick",value:function(){this.isActive&&(this.currentTime+=this.clock.getDelta(),this.update(this.currentTime),requestAnimationFrame(this.tick))}}])&&j(n.prototype,r),o&&j(n,o),e}();function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function I(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function C(t,e){return!e||"object"!==E(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function L(t){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function A(t,e){return(A=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var q=function(t){function e(t,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=C(this,L(e).call(this,o))).isTween=!0,r.type="Tween",r.target=n,r.origin=t,r.value=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){I(t,e,n[e])})}return t}({},{},r.origin),r}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A(t,e)}(e,_),n=e,(r=[{key:"execute",value:function(){for(var t in this.origin)this.value[t]=this.origin[t]+(this.target[t]-this.origin[t])*this.easedProgress}}])&&M(n.prototype,r),o&&M(n,o),e}();function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function B(t,e){return!e||"object"!==D(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function F(t){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function z(t,e){return(z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var N=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=B(this,F(e).call(this,r))).updateDuration(),t.isTimeline=!0,t.type="Timeline",t.add(t.getTrackFromTweens(n,r),r),t}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&z(t,e)}(e,_),n=e,(r=[{key:"execute",value:function(t){this.updateChildren(t)}},{key:"getTrackFromTweens",value:function(t,e){return new g(t,{start:void 0!==e.start?e.start:this.duration})}},{key:"updateDuration",value:function(){var t=0;this.children.forEach(function(e){e.end>t&&(t=e.end)}),this.duration=t}}])&&R(n.prototype,r),o&&R(n,o),e}();n.d(e,"AutoStart",function(){return U}),n.d(e,"Duration",function(){return G}),n.d(e,"Easing",function(){return H}),n.d(e,"Loop",function(){return J}),n.d(e,"TimeScale",function(){return K}),n.d(e,"Utils",function(){return r}),n.d(e,"Track",function(){return g}),n.d(e,"Timeline",function(){return N}),n.d(e,"Tween",function(){return q});var U=!1,G=1,H="linear",J=!1,K=1}])});
!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.Motion=n():t.Motion=n()}(window,function(){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=2)}([function(t,n){t.exports=function(t){var n=t*t;return t<4/11?7.5625*n:t<8/11?9.075*n-9.9*t+3.4:t<.9?4356/361*n-35442/1805*t+16061/1805:10.8*t*t-20.52*t+10.72}},function(t,n,e){t.exports={backInOut:e(3),backIn:e(4),backOut:e(5),bounceInOut:e(6),bounceIn:e(7),bounceOut:e(0),circInOut:e(8),circIn:e(9),circOut:e(10),cubicInOut:e(11),cubicIn:e(12),cubicOut:e(13),elasticInOut:e(14),elasticIn:e(15),elasticOut:e(16),expoInOut:e(17),expoIn:e(18),expoOut:e(19),linear:e(20),quadInOut:e(21),quadIn:e(22),quadOut:e(23),quartInOut:e(24),quartIn:e(25),quartOut:e(26),quintInOut:e(27),quintIn:e(28),quintOut:e(29),sineInOut:e(30),sineIn:e(31),sineOut:e(32)}},function(t,n,e){t.exports=e(33)},function(t,n){t.exports=function(t){var n=2.5949095;return(t*=2)<1?t*t*((n+1)*t-n)*.5:.5*((t-=2)*t*((n+1)*t+n)+2)}},function(t,n){t.exports=function(t){var n=1.70158;return t*t*((n+1)*t-n)}},function(t,n){t.exports=function(t){var n=1.70158;return--t*t*((n+1)*t+n)+1}},function(t,n,e){var r=e(0);t.exports=function(t){return t<.5?.5*(1-r(1-2*t)):.5*r(2*t-1)+.5}},function(t,n,e){var r=e(0);t.exports=function(t){return 1-r(1-t)}},function(t,n){t.exports=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},function(t,n){t.exports=function(t){return 1-Math.sqrt(1-t*t)}},function(t,n){t.exports=function(t){return Math.sqrt(1- --t*t)}},function(t,n){t.exports=function(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}},function(t,n){t.exports=function(t){return t*t*t}},function(t,n){t.exports=function(t){var n=t-1;return n*n*n+1}},function(t,n){t.exports=function(t){return t<.5?.5*Math.sin(13*Math.PI/2*2*t)*Math.pow(2,10*(2*t-1)):.5*Math.sin(-13*Math.PI/2*(2*t-1+1))*Math.pow(2,-10*(2*t-1))+1}},function(t,n){t.exports=function(t){return Math.sin(13*t*Math.PI/2)*Math.pow(2,10*(t-1))}},function(t,n){t.exports=function(t){return Math.sin(-13*(t+1)*Math.PI/2)*Math.pow(2,-10*t)+1}},function(t,n){t.exports=function(t){return 0===t||1===t?t:t<.5?.5*Math.pow(2,20*t-10):-.5*Math.pow(2,10-20*t)+1}},function(t,n){t.exports=function(t){return 0===t?t:Math.pow(2,10*(t-1))}},function(t,n){t.exports=function(t){return 1===t?t:1-Math.pow(2,-10*t)}},function(t,n){t.exports=function(t){return t}},function(t,n){t.exports=function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)}},function(t,n){t.exports=function(t){return t*t}},function(t,n){t.exports=function(t){return-t*(t-2)}},function(t,n){t.exports=function(t){return t<.5?8*Math.pow(t,4):-8*Math.pow(t-1,4)+1}},function(t,n){t.exports=function(t){return Math.pow(t,4)}},function(t,n){t.exports=function(t){return Math.pow(t-1,3)*(1-t)+1}},function(t,n){t.exports=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},function(t,n){t.exports=function(t){return t*t*t*t*t}},function(t,n){t.exports=function(t){return--t*t*t*t*t+1}},function(t,n){t.exports=function(t){return-.5*(Math.cos(Math.PI*t)-1)}},function(t,n){t.exports=function(t){var n=Math.cos(t*Math.PI*.5);return Math.abs(n)<1e-14?1:1-n}},function(t,n){t.exports=function(t){return Math.sin(t*Math.PI/2)}},function(t,n,e){"use strict";e.r(n);var r={};function o(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}e.r(r),e.d(r,"test",function(){return c}),e.d(r,"getInstanceById",function(){return u});var i=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.children=[],this.options=n,this.setId(this),this.updateRelationships=this.updateRelationships.bind(this)}var n,e,r;return n=t,(e=[{key:"clone",value:function(){var t=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return this.setId(t),t}},{key:"remove",value:function(){for(var t=this,n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];e.forEach(function(n){for(var e=0;e<t.children.length;e++){t.children[e]===n&&(n.parent=null,t.children.splice(e,1))}})}},{key:"updateRelationships",value:function(t){t.parent=this,this.children.push(t)}},{key:"updateChildren",value:function(t){this.children.forEach(function(n){n.update(t)})}},{key:"setId",value:function(n){n.id=t.ID,t.ID++,t.Instances.push(n)}}])&&o(n.prototype,e),r&&o(n,r),t}();i.Instances=[],i.ID=0;var u=function(t){var n;return i.Instances.forEach(function(e){e.id===t&&(n=e)}),n},c=3;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,n){return!n||"object"!==a(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,n){return(p=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}var h=function(t){function n(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=f(this,l(n).call(this,r))).isTrack=!0,t.type="Track",t.start=void 0!==r.start?r.start:0,t.end=0,e.forEach(function(n){t.add(n)}),t}var e,r,o;return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&p(t,n)}(n,i),e=n,(r=[{key:"add",value:function(){for(var t=this,n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];e.forEach(function(n){n.isTween&&t.updateRelationships(n)}),this.updateTimeRange()}},{key:"updateTimeRange",value:function(){var t=this;this.end=0,this.children.forEach(function(n){n.scaledDuration+t.start>t.end&&(t.end=n.scaledDuration+t.start)})}},{key:"reset",value:function(){this.finished=!1,this.initialized=!1,this.children.forEach(function(t){t.reset()})}},{key:"update",value:function(t){if(t>=this.end){if(this.finished)return;this.updateChildren(this.end-this.start),this.finished=!0}else t>=this.start&&(this.initialized?this.updateChildren(t-this.start):(this.updateChildren(0),this.initialized=!0))}}])&&s(e.prototype,r),o&&s(e,o),n}();function d(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var y=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.autoStart=void 0===n||n,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}var n,e,r;return n=t,(e=[{key:"start",value:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var n=("undefined"==typeof performance?Date:performance).now();t=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=t}return t}}])&&d(n.prototype,e),r&&d(n,r),t}(),b=e(1);function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O(t,n){return(O=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var x=function(t){function n(t){var e,r,o;return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),r=this,(e=!(o=g(n).call(this,t))||"object"!==v(o)&&"function"!=typeof o?w(r):o).autoStart=void 0!==t.autoStart?t.autoStart:A,e.clock=new y,e.currentTime=0,e.duration=void 0!==t.duration?t.duration:z,e.easing=void 0!==t.easing?b[t.easing]:b[B],e.isActive=!1,e.loop=void 0!==t.loop?t.loop:F,e.timeScale=void 0!==t.timeScale?t.timeScale:L,e.scaledDuration=e.duration*e.timeScale,e.tick=e.tick.bind(w(w(e))),e.onProgress=e.onProgress.bind(w(w(e))),e.onComplete=e.onComplete.bind(w(w(e))),e.autoStart&&e.start(),e}var e,r,o;return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&O(t,n)}(n,i),e=n,(r=[{key:"onComplete",value:function(){this.pause(),"onComplete"in this.options&&this.options.onComplete(this)}},{key:"onProgress",value:function(){"onProgress"in this.options&&this.options.onProgress(this)}},{key:"reset",value:function(){this.currentTime=0,this.children.forEach(function(t){t.reset()}),this.update(this.currentTime)}},{key:"start",value:function(){this.reset(),this.play()}},{key:"stop",value:function(){this.reset(),this.pause()}},{key:"pause",value:function(){this.isActive=!1,this.clock.stop()}},{key:"play",value:function(){this.isActive=!0,this.clock.start(),this.tick()}},{key:"execute",value:function(t){this.updateChildren(t)}},{key:"update",value:function(t){var n=0;this.progress=t/this.duration,this.easedProgress=this.easing(this.progress),this.progress>=1?(this.progress=1,this.easedProgress=1,n=t=this.duration):n=this.duration*this.easedProgress,this.execute(n),this.onProgress(),this.isTimeline&&console.log(n),this.progress>=1&&(this.loop?this.start():this.onComplete())}},{key:"tick",value:function(){this.currentTime+=this.clock.getDelta(),this.update(this.currentTime*this.timeScale),this.isActive&&requestAnimationFrame(this.tick)}}])&&m(e.prototype,r),o&&m(e,o),n}();function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function j(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function T(t,n){return!n||"object"!==k(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function I(t,n){return(I=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}var M=function(t){function n(t,e){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(r=T(this,S(n).call(this,o))).isTween=!0,r.type="Tween",r.target=e,r.origin=t,r.current=function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},r=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.forEach(function(n){P(t,n,e[n])})}return t}({},{},r.origin),r}var e,r,o;return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&I(t,n)}(n,x),e=n,(r=[{key:"execute",value:function(){for(var t in this.origin)this.current[t]=this.origin[t]+(this.target[t]-this.origin[t])*this.easedProgress}}])&&j(e.prototype,r),o&&j(e,o),n}();function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function C(t,n){return!n||"object"!==_(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function D(t){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function q(t,n){return(q=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}var R=function(t){function n(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=C(this,D(n).call(this,r))).updateDuration(),t.isTimeline=!0,t.type="Timeline",e.forEach(function(n){t.add(n,{})}),t}var e,r,o;return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&q(t,n)}(n,x),e=n,(r=[{key:"addTween",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=new h([t],{start:void 0!==n.start?n.start:this.duration});this.updateRelationships(e)}},{key:"add",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.isTween?this.addTween(t,n):t.isTrack&&this.updateRelationships(t),this.updateDuration()}},{key:"updateDuration",value:function(){var t=0;this.children.forEach(function(n){n.end>t&&(t=n.end)}),this.duration=t,this.scaledDuration=this.duration*this.timeScale}}])&&E(e.prototype,r),o&&E(e,o),n}();e.d(n,"AutoStart",function(){return A}),e.d(n,"Duration",function(){return z}),e.d(n,"Easing",function(){return B}),e.d(n,"Loop",function(){return F}),e.d(n,"TimeScale",function(){return L}),e.d(n,"Utils",function(){return r}),e.d(n,"Track",function(){return h}),e.d(n,"Timeline",function(){return R}),e.d(n,"Tween",function(){return M});var A=!1,z=1,B="linear",F=!1,L=1}])});